namespace = new_world_slavery

province_event = {
	id = new_world_slavery.1
	title = "new_world_slavery.EVTNAME1"
	desc = "new_world_slavery.EVTDESC1"
	picture = CONQUEST_eventPicture
	
	trigger = {
		OR = {
			# New World Goods
			trade_goods = coffee
			trade_goods = cotton
			trade_goods = sugar
			trade_goods = tobacco
			trade_goods = cocoa
			trade_goods = silk
			trade_goods = dyes
		}
		is_colony=no
		owner = {
			is_colonial_nation = yes
			colonial_parent = {
				has_country_flag = permit_slavery
			}
			NOT = {
				any_owned_province = {
					has_province_modifier = slavery_restricted
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 120 # 10 years
	}
	option = {
		name = "new_world_slavery.EVTOPTA1" # Don't expand slave operations
		ai_chance = { factor = 50 }
		add_province_modifier = {
			name = "slavery_restricted"
			duration = 730
		}
	}
	option = {
		name = "new_world_slavery.EVTOPTB1" # Expand slavery
		ai_chance = { factor = 50 }
		add_province_modifier = {
			name = "slavery_encouraged"
			duration = -1
		}
	}
}

province_event = {
	id = new_world_slavery.2
	title = "new_world_slavery.EVTNAME2"
	desc = "new_world_slavery.EVTDESC2"
	picture = CONQUEST_eventPicture
	
	trigger = {
		has_province_modifier = slavery_encouraged
	}

	mean_time_to_happen = {
		months = 360 # 30 years
	}
	option = {
		name = "new_world_slavery.EVTOPTA2" # This has gone too far
		ai_chance = { factor = 50 }
		remove_province_modifier = slavery_encouraged
		add_province_modifier = {
			name = "slavery_restricted"
			duration = 730
		}
	}
	option = {
		name = "new_world_slavery.EVTOPTB2" # Nothing to worry about
		ai_chance = { factor = 50 }
		remove_province_modifier = slavery_encouraged
		add_province_modifier = {
			name = "slavery_dominant"
			duration = -1
		}
		if = {
			limit = {
				owner = {
					OR = {
						culture_group = carthagennan_group
						culture_group = latine
						culture_group = gallic_group
					}
				}
			}
			change_culture = mauri
		}
		if = {
			limit = {
				owner = {
					culture_group = gothic_group
				}
			}
			change_culture = escaunes
		}
		if = {
			limit = {
				owner = {
					NOT = {
						OR = { 
							culture_group = carthagennan_group
							culture_group = latine
							culture_group = gallic_group
							culture_group = gothic_group
						}
					}
				}
			}
			change_culture = new_world_african
		}
	}
}
